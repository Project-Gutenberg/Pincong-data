---
layout: default
Lastmod: 2020-05-05T04:07:33.604172+00:00
date: 2019-07-23T01:03:19.000Z
title: "一篇简单的登月指南"
author: "一匹骏马"
tags: [轨道,火箭,空气阻力,月球,地球]
---

五十年前的前几天，美国阿姆斯特朗和奥尔德林宇航员登月成功了，远在北京的胡学范为此而欢呼，而摇煤球的老赵死了他都没有哭过。今天我们就来看看怎么把人送到月球上去。

简单地说，如果不考虑把人送回来，把人类送到月球上只需要三步，把人类送到地球低轨道LEO(Low earth orbit), 从地球轨道转移到月球轨道，让人类降落在月球上，如下图所示。

![](https://images.weserv.nl/?url=https%3A//img9.doubanio.com/view/note/l/public/p63326506.jpg)

因为人类不太行，到目前为止火箭依靠的原理依然是动量守恒，也就是火箭通过发动机混合燃料和氧化剂发生化学反应，向后喷出气体推进火箭向前运动（氧化剂非常重要，因为火箭运行的大多数情况下外界氧气含量很低不足以用于与燃料发生作用，这也是火箭和飞机引擎最大的区别，所以在坎巴拉太空计划里，如果你把火箭装个飞机引擎是飞不起来的）。这句话最终推导结果就是著名的齐奥尔科夫火箭公式。这个公式忽略了引力和空气阻力的参数。△V是制动产生的速度变化量，是一个火箭能跑多远的一个重要指标，是我们在宇宙旅行时的标尺，有多少△V决定了我们可以到多远的位置。

![](https://images.weserv.nl/?url=https%3A//img1.doubanio.com/view/note/l/public/p63326538.jpg)

具体的推导有点麻烦，不展开了，感兴趣的可以看这个链接 [https://www.bilibili.com/read/cv1833545/](https://www.bilibili.com/read/cv1833545/) 。这里的△v就是速度毛增量，也可以理解不考虑为速度I重力和空气阻力的速度增量。sp是比冲（引擎），g0是引力大小，m0是火箭总质量，mf是没有推进剂的火箭干重，m0与mf的比值也就是一般所说的质量比。这个公式告诉我们，质量比越高的火箭，效率越高。这也是为什么几乎所有火箭都要分级的原因。举个例子，假如有一个一级火箭，总质量1000kg，干重200kg，那质量比为5，土星五号F1发动机的比冲大约为300，那最终速度的增加量只有4731m/s。但如果火箭分成3级，最后一级的干重为40kg，质量比为25，那速度根据该公式，速度的增加量就达到9463m/s，是原来△v的两倍。

这个△v我们还可以用来求达到某一轨道所需速度增量,不考虑重力和空气阻力时，地球的最低环绕轨道速度为7.9km/s,也就是第一宇宙速度，也就说△v至少要达到7.9km/s才能实现环绕。而考虑空气阻力和重力阻力时，我们需要更大的△v去抵消。这两个参数的计算比较复杂，我们知道速度是加速度在△t内的积分，其中重力加速度的影响会随着高度衰减，那重力阻力对所需△v的增量就相当于从地表到预定轨道△t时间内重力加速度的积分。空气阻力与速度平方成正比，与空气密度也成正比，而空气密度随着海拔高度的增加近似成反比，因此可以认为空气阻力与海拔高度成反比，同时由空气阻力造成所需△v增量与滞留大气层时间也相关。总之，太难了我不会算，所以一般认为进入LEO(低轨地球轨道）所需的△V至少要有9,4km/s。

![](https://images.weserv.nl/?url=https%3A//img9.doubanio.com/view/note/l/public/p63326835.jpg)

因为任何物体都存在万有引力，火箭产生的推力减去重力和空气阻力再除以质量为实际加速度。或者认为加速度的积分△v需要拿出额外一部分来抵消引力影响。为因此衡量一个火箭性能的另外一个很重要的参数就是推重比，也就推力与起飞重量的比值。这和刚刚提到的Isp是两个概念，那个针对的是引擎，而且与重量无关。简单地说，推重比大就是更大力，但不一定持久，也不一定能提供更多的△v,而比冲高的不一定很大力，但可以提供更多的△v。火箭推重比必须大于1才能将火箭推离地面，可以想象一下，一个推重比为1的火箭，所产生的的△v将全部用来抵消重力，因此就飞不起来。这就是为什么火箭不仅要分级，很多也会用助推的原因。大部分助推会在40到100km的范围内分离。从起飞到低空范围内，重力影响很大，需要额外的推力用于加速。而在进入高空后，重力影响减小，我们也就不需要助推了。大家平时造火箭的时候也可以根据这个原理来选择引擎，一级火箭引擎最重要的参数是推力，比冲并不是很重要，因为一级火箭产生的推力要足够大才能抵消空气阻力和重力。但当火箭升空后，这两个参数减小，那我们更希望选择比冲大的引擎。以已经退役的航天飞机为例，起飞时主要推力来自两个固体推进器，进入50km低空后固体推进器分离，航天飞机上比冲更高的氢氧发动机可以提供更大的速度增量。

火箭从发射到入轨一般会进行一种被称为重力转向机动的动作（Gravity turn maneuver），也就是我们平常发射火箭的时候看到的，最开始是垂直起飞，接着开始歪一个角度。这是一种轨迹优化的结果，因为我们最终的目的是进行稳定环绕，或者被称为parking orbit。而圆形环绕轨道是一个与地心同心的圆，速度的矢量方向于地球表面平行。因此火箭速度方向会经历一个从垂直于地表到平行于地表的机动过程，如下图所示。不考虑空气阻力，这条轨迹大约是个90度弧度的曲线，考虑空气阻力影响时所产生的空气阻力△v与v\*s(位移）正相关，所以我们既希望在低空速度不要太快，也希望能尽快离开低空的稠密空气，那最好的办法就是垂直往天上发射。进入10km左右的高度时开始想东偏转，然后慢慢偏转角度增加。这也是因为我们希望尽可能减小空气阻力的影响，因为空气阻力与速度法向切面面积正相关，因此我们希望火箭始终头朝运动速度的方向（而不是加速度）的方向。这个具体的运动轨迹还需要参考每一阶段推进器的推重比和△v，空气密度变化函数，已经重力等。

![](https://images.weserv.nl/?url=https%3A//img1.doubanio.com/view/note/l/public/p63327289.jpg)

具体计算公式在下面，用excel设一下，挺好算的。

![](https://images.weserv.nl/?url=https%3A//img1.doubanio.com/view/note/l/public/p63327469.jpg)

https://mintoc.de/index.php/Gravity\_Turn\_Maneuver

![](https://images.weserv.nl/?url=https%3A//img3.doubanio.com/view/note/l/public/p63327533.jpg)

https://mintoc.de/index.php/Gravity\_Turn\_Maneuver

![](https://images.weserv.nl/?url=https%3A//img3.doubanio.com/view/note/l/public/p63327332.jpg)

https://mintoc.de/index.php/Gravity\_Turn\_Maneuver

![](https://images.weserv.nl/?url=https%3A//img9.doubanio.com/view/note/l/public/p63327434.jpg)

https://mintoc.de/index.php/Gravity\_Turn\_Maneuver

于是，我们终于飞出了地球，到达了LEO。下面我们来看看怎么实现第二步，从地球轨道转移到月球环绕轨道去。在此之前需要解释一下什么叫轨道，轨道是除了万有引力之外不受其他外力影响的稳定轨迹。当我们讨论2体运动时，在太空中轨道必定是一条圆锥曲线，可以是圆，椭圆，或者抛物线，甚至双曲线。因为能量守恒，因此在轨道任何一点重力势能与动能之和相同，在低高度时拥有更大的线速度。不论是何种圆锥曲线，万有引力中心在其中的一个焦点上。

可以近似认为月球与地表是一个以地心为中心的同心圆，但是月球环绕地球轨道和地球赤道轨道之间有一个为5.14度的夹角,我们首先需要需要在LEO轨道进行角度修正，使得新轨道夹角与月球环绕轨道夹角相同。

![](https://images.weserv.nl/?url=https%3A//img1.doubanio.com/view/note/l/public/p63399807.jpg)

进行这样的角度修正我们依然需要进行一次机动，计算所需△v的方法也很简单。

![](https://images.weserv.nl/?url=https%3A//img1.doubanio.com/view/note/l/public/p63399867.jpg)

因为两个轨道高度相同，因此线速度也相同，所以速度向量|OA|和|OA'|相同，所需△V就是AA'。

![](https://images.weserv.nl/?url=https%3A//img3.doubanio.com/view/note/l/public/p63400243.jpg)

这个公式我们可以看出角度变轨代价非常巨大，对于极轨变轨（与赤道轨道成90度）。所需△V是飞出地球△V的两倍（甚至超过了去火星所需的△V）。带入地球第一宇宙速度和夹角得△V为0.708km/s。

下面就是离开低轨飞向月球轨道，月球环绕地球可以近似看似是与地心为中心的圆形。所以环绕地球轨道变轨到月球轨道可以近似看作是LEO的同心圆，对于这种情况，我们可以使用霍曼转移轨道。霍曼转移轨道是一个以低轨道焦点为近焦点，连接近轨道任意一点穿过焦点的直线与高轨道交点组成长半轴的椭圆轨道，图示如下。

![](https://images.weserv.nl/?url=https%3A//img9.doubanio.com/view/note/l/public/p63400286.jpg)

霍曼转移轨道是典型的椭圆轨道与低轨和高轨共享同一焦点。通过在近拱点一次加速形成。因为能量守恒，加速相当于增加了飞船重力势能与动能之和，在近拱点霍曼转移轨道线速度Vta要大于原低轨线速度Va。在远拱点再次加速，霍曼转移轨道B点速度Vtb小于高轨道线速度Vb。因此霍曼转移轨道的2次加速变轨所需△V就是△V=(Vta-Va)+(Vb-Vtb)

![](https://images.weserv.nl/?url=https%3A//img1.doubanio.com/view/note/l/public/p63400339.jpg)

因为从LEO出发，设Va就是第一宇宙速度7.9km/s, 月球轨道高度为385000km, 地球的万有引力约常数为4x10^14,因此Vb速度约为1km/s。 Vta=11,03, Vt2=1,16km/s,△V=3,29km/s。

这个△V是从LEO轨道转移到月球轨道的所需的最低速度变化值。在太阳系内的△V地图如下图所示，进入月球环绕轨道是3,26km/s，为什么有这样的误差呢，因为实际上月球围绕地球轨道并不是一个正圆。

![](https://images.weserv.nl/?url=https%3A//img3.doubanio.com/view/note/l/public/p63400443.jpg)

上个礼拜西格在看火星救援时问了我一个非常有意思的问题，为什么马特达蒙说，即便地球现在知道他还活着，最早4年后才会有救援的飞船，因为从火星到地球最快只需要200多天，而让船长的飞船返航应该会更快一些。第一反应可能是电影的一个bug，后来想了想这个细节真的非常厉害。我们知道船长的飞船大概依然会采用霍曼转移轨道回地球。飞船在转移轨道上点I的速度为Vi,反向加速所需△V至少是2Vi,因为椭圆轨道远拱点速度最小，而火星轨道速度Vb为24Km/s,那2Vi+Vb-Vtb将是一个非常巨大的数字,所需的燃料相当于4,5倍以上从地球去火星的燃料。不考虑其他干扰因素，很可能船长的飞船也没有能力进行这样一个变轨机动。

![](https://images.weserv.nl/?url=https%3A//img3.doubanio.com/view/note/raw/public/p63400641.jpg)

而从地球发射飞船呢？这就涉及到另外一个很有意思的问题了，就是窗口期。不论是进行登月还是火星探索，飞船发射都存在一个窗口期。因为轨道角速度不同，飞船从A点出发，沿着转移轨道与火星正好在B点相遇，这个起飞的时间点就是发射窗口。根据开普勒公式，霍曼转移轨道轨道周期为:

![](https://images.weserv.nl/?url=https%3A//img1.doubanio.com/view/note/l/public/p63400718.jpg)

不考虑地球和火星轨道存在夹角，地球到火星的霍曼转移轨道周期为226天，而火星轨道周期为687天，那霍曼转移轨道上的飞船K和火星每155262天才会完美相遇一次。当我们通过让飞船在转移轨道上二次机动来变更轨道，设toleranz为5天，那霍曼转移轨道上的飞船K每2年才有1天可以和火星相遇一次。解决在什么时间点进行变轨，所需能量和轨道时间的问题被称为Lambert's Problem,感兴趣的可以自己去搜一下。用来展示飞行时间，所需△V和窗口期的图表被称为Porkchop plot，大概长下面这样,从地球到火星每两年半有一次旅程时间为240天左右的发射窗口。而事发时是Day13,那意味即便地球得到马特达蒙信息后立刻准备发射火箭也需要3年才能到火星，再算上其他筹备时间等，大概就是4年。而根据lambert's Problem的推导，考虑到把人送上月球还要再短时间内送回来，每个月我们会有一天可以低△V把火箭送去月球的发射窗口。

![](https://images.weserv.nl/?url=https%3A//img1.doubanio.com/view/note/l/public/p63400949.jpg)

明天写窗口期计算和降落在月球上吧。

